<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="it"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>CommandLineReader.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">SNA4Slack</a> &gt; <a href="index.source.html" class="el_package">slackpack</a> &gt; <span class="el_source">CommandLineReader.java</span></div><h1>CommandLineReader.java</h1><pre class="source lang-java linenums">package slackpack;

import java.util.HashMap;

/**
 * This class consists of the attributes and methods to read commands.
 **/
public class CommandLineReader {
	/**
	 * Private attribute workspacedir, the first parameter.
	 **/
	private String workspacedir;
	/**
	 * Private attribute inputcommand, the second parameter.
	 **/
	private String inputcommand;
	/**
	 * Private attribute channelname, the name of a specified channel.
	 **/
	private String channelname;
	/**
	 * Private attribute username, the name of a specified member.
	 **/
	private String username;
	/**
	 * Private attribute CommandTable, it consists in the command and their meaning.
	 **/
	private HashMap&lt;String, String&gt; commandTable;
	/**
	 * Public constant, the max numbers of parameters.
	 **/
	public static final int MAX_PARAMETERS = 4;
	/**
	 * Public constant, the index of the workspace.
	 **/
	public static final int INDEX_WORKSPACE = 0;
	/**
	 * Public constant, the index of command.
	 **/
	public static final int INDEX_COMMAND = 1;
	/**
	 * Public constant, the index of user name.
	 **/
	public static final int INDEX_USERNAME = 2;
	/**
	 * Public constant, the index of channel name.
	 **/
	public static final int INDEX_CHNAME = 3;

	/**
	 * Public constructor.
	 **/
<span class="fc" id="L53">	public CommandLineReader() {</span>
<span class="fc" id="L54">		this.setWorkspaceDir(&quot;&quot;);</span>
<span class="fc" id="L55">		this.setInputCommand(&quot;&quot;);</span>
<span class="fc" id="L56">		this.setChannelName(&quot;&quot;);</span>
<span class="fc" id="L57">		this.setUsername(&quot;&quot;);</span>
<span class="fc" id="L58">		this.setCommandTable(new HashMap&lt;String, String&gt;());</span>
<span class="fc" id="L59">		this.setDefaultCommandTable();</span>
<span class="fc" id="L60">	}</span>

	/**
	 * It sets the commandtable with the input parameter.
	 *
	 * @param commandtable the table to be set.
	 *
	 **/
	public final void setCommandTable(final HashMap&lt;String, String&gt; commandtable) {
<span class="fc" id="L69">		this.commandTable = commandtable;</span>
<span class="fc" id="L70">	}</span>

	/**
	 * It sets the commandtable with the default parameter.
	 **/
	public final void setDefaultCommandTable() {
<span class="fc" id="L76">		this.commandTable.put(&quot;-m&quot;, &quot;PRINT_MEMBERS&quot;);</span>
<span class="fc" id="L77">		this.commandTable.put(&quot;-c&quot;, &quot;PRINT_CHANNELS&quot;);</span>
<span class="fc" id="L78">		this.commandTable.put(&quot;-mc&quot;, &quot;ALL_CHANNELS_MEMBERS&quot;);</span>
<span class="fc" id="L79">		this.commandTable.put(&quot;-cm&quot;, &quot;CHANNEL_MEMBERS&quot;);</span>
<span class="fc" id="L80">		this.commandTable.put(&quot;@m&quot;, &quot;MENTIONS&quot;);</span>
<span class="fc" id="L81">		this.commandTable.put(&quot;@mf&quot;, &quot;MENTIONS_FROM&quot;);</span>
<span class="fc" id="L82">		this.commandTable.put(&quot;@mt&quot;, &quot;MENTIONS_TO&quot;);</span>
<span class="fc" id="L83">		this.commandTable.put(&quot;@mw&quot;, &quot;MENTIONS_WEIGHT&quot;);</span>
<span class="fc" id="L84">		this.commandTable.put(&quot;@mfw&quot;, &quot;MENTIONS_FROM_WEIGHT&quot;);</span>
<span class="fc" id="L85">		this.commandTable.put(&quot;@mtw&quot;, &quot;MENTIONS_TO_WEIGHT&quot;);</span>
<span class="fc" id="L86">	}</span>

	/**
	 * It sets the workspacedir with the input parameter.
	 *
	 * @param wdir the workspace path
	 *
	 **/
	public final void setWorkspaceDir(final String wdir) {
<span class="fc" id="L95">		this.workspacedir = wdir;</span>
<span class="fc" id="L96">	}</span>

	/**
	 * It sets the inputcommand with the input parameter.
	 *
	 * @param icommand the command to be set
	 *
	 **/
	public final void setInputCommand(final String icommand) {
<span class="fc" id="L105">		this.inputcommand = icommand;</span>
<span class="fc" id="L106">	}</span>

	/**
	 * It sets the channelname with the input parameter.
	 *
	 * @param chname
	 *            the channel's name to be set.
	 *
	 **/
	public final void setChannelName(final String chname) {
<span class="fc" id="L116">		this.channelname = chname;</span>
<span class="fc" id="L117">	}</span>

	/**
	 * It sets the username with the input parameter.
	 *
	 * @param usname the name of the member
	 *
	 **/
	public final void setUsername(final String usname) {
<span class="fc" id="L126">		this.username = usname;</span>
<span class="fc" id="L127">	}</span>

	/**
	 * It gets the workspace path.
	 * @return workspacedir string
	 **/
	public String getWorkspaceDir() {
<span class="fc" id="L134">		return this.workspacedir;</span>
	}
	/**
	 * It gets the inputcommand.
	 * @return inputcommand string
	 **/
	public String getInputCommand() {
<span class="fc" id="L141">		return this.inputcommand;</span>
	}
	/**
	 * It gets the channel's name.
	 * @return channelname string
	 **/
	public String getChannelName() {
<span class="fc" id="L148">		return this.channelname;</span>
	}
	/**
	 * It gets the username.
	 * @return username string
	 **/
	public String getUsername() {
<span class="fc" id="L155">		return this.username;</span>
	}

	/**
	 * It fills the attributes depending on what the user writes.
	 *
	 * @param icommand the args from the main class.
	 *
	 * @throws Exception when the command are not valid.
	 *
	 **/
	public final void fillCommandsSetFromArgs(final String[] icommand)  throws Exception {
<span class="pc bpc" id="L167" title="2 of 4 branches missed.">		if (icommand.length &lt; 2 || !isValidCommand(icommand[1])) {</span>
<span class="nc" id="L168">			throw new Exception(&quot;INVALID COMMAND&quot;);</span>
		} else {
<span class="fc" id="L170">			this.setWorkspaceDir(icommand[INDEX_WORKSPACE]);			//position 0</span>
<span class="fc" id="L171">			this.setInputCommand(icommand[INDEX_COMMAND]);				//position 1</span>
<span class="fc bfc" id="L172" title="All 2 branches covered.">			if (icommand.length == MAX_PARAMETERS) {					// 4</span>
<span class="fc" id="L173">				this.setUsername(icommand[INDEX_USERNAME]);				//position 2</span>
<span class="fc" id="L174">				this.setChannelName(icommand[INDEX_CHNAME]);			//position 3</span>
			} else
<span class="pc bpc" id="L176" title="1 of 2 branches missed.">				if (icommand.length == MAX_PARAMETERS - 1) {			// 3</span>
<span class="fc bfc" id="L177" title="All 2 branches covered.">					if (this.getInputCommand().matches(&quot;-cm|@m|@mw&quot;)) {</span>
<span class="fc" id="L178">						this.setChannelName(icommand[INDEX_USERNAME]);	//position 2</span>
					} else {
<span class="fc" id="L180">						this.setUsername(icommand[INDEX_USERNAME]);		//position 2</span>
					}
			}
		}
<span class="fc" id="L184">	}</span>

	/**
	 * It checks if the commands are valid.
	 *
	 * @param command the command to be checked.
	 *
	 * @return true if the commands are valid.
	 **/
	public boolean isValidCommand(final String command) {
<span class="fc bfc" id="L194" title="All 2 branches covered.">		return ((this.commandTable.get(command) != null));</span>
	}
}

</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.0.201801022044</span></div></body></html>